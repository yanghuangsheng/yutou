(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-person-info-person-info"],{"065c":function(t,a,e){"use strict";e.r(a);var i=e("f674"),n=e("946a");for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);e("4904");var o=e("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"07966727",null);a["default"]=r.exports},"0b79":function(t,a,e){"use strict";e.r(a);var i=e("49d3"),n=e("43f2");for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);e("16df");var o=e("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"4430a534",null);a["default"]=r.exports},"16df":function(t,a,e){"use strict";var i=e("ac5b"),n=e.n(i);n.a},"19c2":function(t,a,e){var i=e("9653");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("5c42b366",i,!0,{sourceMap:!1,shadowMode:!1})},"43f2":function(t,a,e){"use strict";e.r(a);var i=e("bc71"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);a["default"]=n.a},4904:function(t,a,e){"use strict";var i=e("f3e7"),n=e.n(i);n.a},"49d3":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"index"},[e("v-uni-view",{staticClass:"wrap"},[e("uni-nav",{attrs:{title:t.title}}),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!!t.user_data,expression:"user_data?true:false"}],staticClass:"info-list"},[e("v-uni-view",{staticClass:"profile uni-inline-item"},[e("v-uni-view",{staticClass:"title"},[e("v-uni-text",[t._v("头像")])],1),e("v-uni-view",{staticClass:"face",on:{click:function(a){a=t.$handleEvent(a),t.chooseImage(a)}}},[e("v-uni-image",{attrs:{src:t.user_data.avatar,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"right_arrow uni-center"},[e("v-uni-view")],1)],1),e("v-uni-view",{staticClass:"list uni-inline-item"},[e("v-uni-view",{staticClass:"list-name"},[e("v-uni-text",[t._v("昵称")])],1),e("v-uni-view",{staticClass:"info"},[e("v-uni-input",{staticClass:"text-right",attrs:{type:"text","data-field":"name"},on:{blur:function(a){a=t.$handleEvent(a),t.tapSetInfo(a)}},model:{value:t.user_data.name,callback:function(a){t.$set(t.user_data,"name",a)},expression:"user_data.name"}})],1)],1),e("v-uni-view",{staticClass:"list uni-inline-item"},[e("v-uni-view",{staticClass:"list-name"},[e("v-uni-text",[t._v("名字")])],1),e("v-uni-view",{staticClass:"info"},[e("v-uni-input",{staticClass:"text-right",attrs:{type:"text","data-field":"real_name"},on:{blur:function(a){a=t.$handleEvent(a),t.tapSetInfo(a)}},model:{value:t.user_data.real_name,callback:function(a){t.$set(t.user_data,"real_name",a)},expression:"user_data.real_name"}})],1)],1),e("v-uni-view",{staticClass:"list uni-inline-item"},[e("v-uni-view",{staticClass:"list-name"},[e("v-uni-text",[t._v("生日")])],1),e("v-uni-view",{staticClass:"info",on:{click:function(a){a=t.$handleEvent(a),t.chooseCalendar(a)}}},[e("v-uni-text",{staticClass:"text-right"},[t._v(t._s(t.user_data.birthday?t.user_data.birthday:"1990-01-01"))])],1)],1),e("v-uni-view",{staticClass:"list uni-inline-item"},[e("v-uni-view",{staticClass:"list-name"},[e("v-uni-text",[t._v("性别")])],1),e("v-uni-view",{staticClass:"sex"},[e("v-uni-label",{staticClass:"radio",attrs:{"data-value":1},on:{click:function(a){a=t.$handleEvent(a),t.tapSex(a)}}},[e("v-uni-radio",{attrs:{checked:!!t.user_data.sex,color:"#f4cc7e"}}),t._v("男")],1),e("v-uni-label",{staticClass:"radio",attrs:{"data-value":0},on:{click:function(a){a=t.$handleEvent(a),t.tapSex(a)}}},[e("v-uni-radio",{attrs:{checked:!t.user_data.sex,color:"#f4cc7e"}}),t._v("女")],1)],1)],1),e("v-uni-view",{staticClass:"list uni-inline-item"},[e("v-uni-view",{staticClass:"list-name input"},[e("v-uni-text",[t._v("地址")])],1),e("v-uni-view",{staticClass:"info"},[e("v-uni-input",{staticClass:"text-left",attrs:{type:"text","data-field":"address"},on:{blur:function(a){a=t.$handleEvent(a),t.tapSetInfo(a)}},model:{value:t.user_data.address,callback:function(a){t.$set(t.user_data,"address",a)},expression:"user_data.address"}})],1)],1),e("v-uni-view",{staticClass:"list uni-inline-item"},[e("v-uni-view",{staticClass:"list-name input"},[e("v-uni-text",[t._v("简介")])],1),e("v-uni-view",{staticClass:"info"},[e("v-uni-input",{staticClass:"text-left",attrs:{type:"text",placeholder:t.user_data.synopsis?"":"呵呵，写点什么呗","data-field":"synopsis"},on:{blur:function(a){a=t.$handleEvent(a),t.tapSetInfo(a)}},model:{value:t.user_data.synopsis,callback:function(a){t.$set(t.user_data,"synopsis",a)},expression:"user_data.synopsis"}})],1)],1)],1)],1),t.visible?e("v-uni-view",{staticClass:"calendar"},[e("v-uni-view",{staticClass:"calendar_top uni-inline-item"},[e("v-uni-view",{staticClass:"cancel",on:{click:function(a){a=t.$handleEvent(a),t.cancelCalendar(a)}}},[e("v-uni-text",[t._v("取消")])],1),e("v-uni-view",{staticClass:"confirm",on:{click:function(a){a=t.$handleEvent(a),t.closeCalendar(a)}}},[e("v-uni-text",[t._v("确定")])],1)],1),e("v-uni-picker-view",{attrs:{"indicator-style":t.indicatorStyle,value:t.value},on:{change:function(a){a=t.$handleEvent(a),t.bindChange(a)}}},[e("v-uni-picker-view-column",t._l(t.years,function(a,i){return e("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(a))])}),1),e("v-uni-picker-view-column",t._l(t.months,function(a,i){return e("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(a))])}),1),e("v-uni-picker-view-column",t._l(t.days,function(a,i){return e("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(a))])}),1)],1)],1):t._e()],1)],1)},n=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n})},"4b14":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"nav uni-inline-item",style:{paddingTop:t.statusBarHeight}},[e("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),e("v-uni-view",{staticClass:"left-arrow",on:{click:function(a){a=t.$handleEvent(a),t.goback(a)}}},[e("v-uni-view")],1)],1),e("v-uni-view",{staticClass:"margin-bottom"})],1)},n=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n})},8058:function(t,a,e){"use strict";e.r(a);var i=e("4b14"),n=e("f732");for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);e("f301");var o=e("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"7f4a4d18",null);a["default"]=r.exports},"80a0":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={data:function(){return{platform:"",statusBarHeight:"",screenHeight:"",windowHeight:"",navHeight:""}},onLoad:function(){}};a.default=i},"946a":function(t,a,e){"use strict";e.r(a);var i=e("80a0"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);a["default"]=n.a},9653:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,'.nav[data-v-7f4a4d18]{width:100%;position:fixed;\n\tpadding:%?17?% %?0?%;top:0;left:0;z-index:99;background-color:#fff;border-bottom:%?1?% solid #e9e9e9}.nav .title[data-v-7f4a4d18]{font-size:%?34?%;color:#4a4a4a;margin:0 auto}.left-arrow[data-v-7f4a4d18]{width:%?100?%;position:absolute;left:0}.left-arrow[data-v-7f4a4d18] :after{content:"";width:%?25?%;height:%?25?%;position:absolute;margin-top:%?-13?%;left:%?35?%;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border-left:%?4?% solid #adadad;border-bottom:%?4?% solid #adadad}.margin-bottom[data-v-7f4a4d18]{margin-bottom:%?90?%}',""])},"9ce3":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={props:{title:{type:String}},data:function(){return{platform:"",statusBarHeight:""}},onLoad:function(){},methods:{goback:function(){uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})}}};a.default=i},ac5b:function(t,a,e){var i=e("d327");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("378a497a",i,!0,{sourceMap:!1,shadowMode:!1})},bc71:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=s(e("065c")),n=s(e("8058"));function s(t){return t&&t.__esModule?t:{default:t}}var o={components:{uniNav:n.default,statusBar:i.default},data:function(){for(var t=new Date,a=[],e=t.getFullYear(),i=[],n=t.getMonth()+1,s=[],o=t.getDate(),r=1960;r<=t.getFullYear()-10;r++)a.push(r);for(var l=1;l<=12;l++)i.push(l);for(var u=1;u<=31;u++)s.push(u);return{title:"个人资料",upload:!1,imageList:["../../static/image/touxiang.png"],years:a,year:e,months:i,month:n,days:s,day:o,value:[9999,n-1,o-1],visible:!1,indicatorStyle:"height: ".concat(Math.round(uni.getSystemInfoSync().screenWidth/7.5),"px;"),user_data:[]}},onShow:function(){this._onLoad()},methods:{chooseImage:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.imageList=a.tempFilePaths,t.$http.upload("user/upload_avatar",{},{filePath:a.tempFilePaths[0],name:"file"}).then(function(a){if(a=JSON.parse(a),console.log(a),0==a.code){t.user_data.avatar=a.data.image_url[100];var e=t.$tool.getUserData();return e.avatar=a.data.image_url,t.$tool.setUserData(e),!1}t.$tool.showToast(a.message)}).catch(function(t){console.log("upload_err")})}})},tapSex:function(t){var a=this.$tool.getDataSet(t,"value");a=parseInt(a),this.user_data.sex=a,this._updateInfo("sex",a)},bindChange:function(t){var a=t.detail.value;this.year=this.years[a[0]],this.month=this.months[a[1]],this.day=this.days[a[2]]},chooseCalendar:function(){this.visible=!0},cancelCalendar:function(){var t=new Date;this.year=t.getFullYear()-10,this.month=t.getMonth()+1,this.day=t.getDate(),this.visible=!1},closeCalendar:function(){this.user_data.birthday=this.year+"-"+this.month+"-"+this.day,this.visible=!1,this._updateInfo("birthday",this.user_data.birthday)},tapSetInfo:function(t){var a=this.$tool.getDataSet(t,"field"),e=t.detail.value;if("name"==a&&""==e)return this.$tool.showToast("呢称不能为空"),!1;this._updateInfo(a,t.detail.value)},_updateInfo:function(t,a){var e=this;this.$http.post("user/set_info",{field:t,value:a}).then(function(i){if(-1==i.code&&e.$tool.showToast(i.message),"name"==t){var n=e.$tool.getUserData();n.name=a,e.$tool.setUserData(n)}}).catch(function(t){console.log("update_info_err")})},_onLoad:function(){var t=this,a=this.$tool.getUserData();this.$http.get("user/info",{user_id:a.id}).then(function(a){if(console.log(a),0==a.code)return t.user_data=a.data,!1}).catch(function(t){console.log("user_err")})}}};a.default=o},d327:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,'uni-page-body[data-v-4430a534]{background-color:#f9f9f9}.content[data-v-4430a534]{margin-top:%?115?%;background-color:#fff}.content .info-list[data-v-4430a534]{margin-left:%?25?%}.content .info-list .profile[data-v-4430a534]{height:%?190?%;border-bottom:%?1?% solid #f5f5f5}.info-list .profile .title[data-v-4430a534]{color:#3e3636;font-size:%?30?%;margin-right:%?450?%}.info-list .profile .face[data-v-4430a534]{width:%?120?%;height:%?120?%;border-radius:100%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.info-list .profile .face uni-image[data-v-4430a534]{width:100%;height:100%;border-radius:100%}.info-list .profile .right_arrow[data-v-4430a534]{width:%?90?%;height:%?190?%;position:relative}.info-list .right_arrow[data-v-4430a534]:after{content:"";width:%?20?%;height:%?20?%;position:absolute;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border-right:%?4?% solid #adadad;border-top:%?4?% solid #adadad}.info-list .list[data-v-4430a534]{height:%?95?%;position:relative;border-bottom:%?1?% solid #f5f5f5}.info-list .list .list-name[data-v-4430a534]{color:#767272;font-size:%?30?%}.info-list .list .info[data-v-4430a534]{color:#3e3636;font-size:%?30?%;position:absolute;right:%?20?%}.info-list .list .info uni-input[data-v-4430a534]{width:%?610?%}.info-list .list .sex[data-v-4430a534]{margin:0 auto}.info-list .sex .radio[data-v-4430a534]{margin:%?0?% %?50?%}.info-list .list .input[data-v-4430a534]{position:relative}.info-list .list .input[data-v-4430a534]:after{content:"";width:%?1?%;height:%?36?%;margin-top:%?6?%;margin-left:%?23?%;position:absolute;background-color:#f4cc7e}.calendar[data-v-4430a534]{margin-top:%?20?%;background-color:#fff}.calendar .calendar_top[data-v-4430a534]{height:%?90?%;position:relative;border:%?1?% solid #f1f1f1}.calendar .calendar_top .cancel[data-v-4430a534]{position:absolute;left:%?40?%;color:#898989;font-size:%?30?%}.calendar .calendar_top .confirm[data-v-4430a534]{position:absolute;right:%?40?%;font-size:%?30?%;color:#f4cc7e}uni-picker-view[data-v-4430a534]{width:100%;height:%?600?%}.item[data-v-4430a534]{line-height:%?100?%;text-align:center}body.?%PAGE?%[data-v-4430a534]{background-color:#f9f9f9}',""])},f301:function(t,a,e){"use strict";var i=e("19c2"),n=e.n(i);n.a},f367:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* 状态栏 */.status_bar[data-v-07966727]{height:0;width:100%}.top_view[data-v-07966727]{height:0;width:100%;position:fixed;background-color:#fff;top:0;z-index:999}",""])},f3e7:function(t,a,e){var i=e("f367");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("657de40a",i,!0,{sourceMap:!1,shadowMode:!1})},f674:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view")},n=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n})},f732:function(t,a,e){"use strict";e.r(a);var i=e("9ce3"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);a["default"]=n.a}}]);