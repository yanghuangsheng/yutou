(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-person-info-person-info"],{"065c":function(t,e,a){"use strict";a.r(e);var i=a("7493"),n=a("946a");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("b8d9");var s=a("2877"),r=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"5c41bc10",null);e["default"]=r.exports},"0b79":function(t,e,a){"use strict";a.r(e);var i=a("f906"),n=a("43f2");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("1094");var s=a("2877"),r=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"71564ed9",null);e["default"]=r.exports},1094:function(t,e,a){"use strict";var i=a("65db"),n=a.n(i);n.a},"2bde":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".uni-mask[data-v-7e40cd62]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-7e40cd62]{position:absolute;z-index:999;background-color:#fff}.uni-popup-bottom[data-v-7e40cd62]{left:0;bottom:0;width:100%;min-height:%?100?%;line-height:%?100?%;text-align:center}",""])},"40fb":function(t,e,a){"use strict";var i=a("c948"),n=a.n(i);n.a},"43f2":function(t,e,a){"use strict";a.r(e);var i=a("bc71"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"4e1a":function(t,e,a){var i=a("a1f8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("66a40329",i,!0,{sourceMap:!1,shadowMode:!1})},5646:function(t,e,a){"use strict";a.r(e);var i=a("5f32"),n=a("98b3");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("a474");var s=a("2877"),r=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"7e40cd62",null);e["default"]=r.exports},"5cbe":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-popup",props:{show:{type:Boolean,default:!1},position:{type:String,default:"middle"},mode:{type:String,default:"insert"},buttonMode:{type:String,default:"bottom"}},data:function(){var t=0;return{offsetTop:t}},methods:{hide:function(){this.$emit("hidePopup")},moveHandle:function(){}}};e.default=i},"5f32":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(e){e=t.$handleEvent(e),t.hide(e)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.moveHandle(e)}}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-popup",class:["uni-popup-"+t.position,"uni-popup-"+t.mode]},[t._t("default"),a("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.closeMask(e)}}})],2)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"65db":function(t,e,a){var i=a("b727");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("741f0758",i,!0,{sourceMap:!1,shadowMode:!1})},7493:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"status_bar"},[a("v-uni-view",{staticClass:"top_view"})],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},8058:function(t,e,a){"use strict";a.r(e);var i=a("9c5c"),n=a("f732");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("40fb");var s=a("2877"),r=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"cb31f95a",null);e["default"]=r.exports},"80a0":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{statusBarHeight:""}},onLoad:function(){}};e.default=i},"946a":function(t,e,a){"use strict";a.r(e);var i=a("80a0"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"95b4":function(t,e,a){var i=a("2bde");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("4b6430fe",i,!0,{sourceMap:!1,shadowMode:!1})},"98b3":function(t,e,a){"use strict";a.r(e);var i=a("5cbe"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"9c5c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"nav uni-center",style:{marginTop:t.statusBarHeight}},[a("v-uni-view",{staticClass:"title uni-ellipsis"},[t._v(t._s(t.title))]),a("v-uni-view",{staticClass:"left-arrow",on:{click:function(e){e=t.$handleEvent(e),t.goback(e)}}},[a("v-uni-view")],1)],1),a("v-uni-view",{staticClass:"margin-bottom"})],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"9ce3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{title:{type:String}},data:function(){return{statusBarHeight:""}},onLoad:function(){},methods:{goback:function(){uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})}}};e.default=i},"9d37":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.nav[data-v-cb31f95a]{width:100%;height:%?90?%;position:fixed;\n\tleft:0;z-index:99;background-color:#fff;border-bottom:%?1?% solid #e9e9e9}.nav .title[data-v-cb31f95a]{width:%?300?%;font-size:%?34?%;line-height:%?89?%;color:#4a4a4a;text-align:center}.left-arrow[data-v-cb31f95a]{width:%?100?%;height:%?89?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;top:0;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:absolute;left:0}.left-arrow[data-v-cb31f95a] :after{content:"";width:%?25?%;height:%?25?%;position:absolute;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:%?-13?%;left:%?35?%;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border-left:%?4?% solid #adadad;border-bottom:%?4?% solid #adadad}.margin-bottom[data-v-cb31f95a]{margin-bottom:%?90?%}',""])},a1f8:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* 状态栏 */.status_bar[data-v-5c41bc10]{height:0;width:100%}.top_view[data-v-5c41bc10]{height:0;width:100%;position:fixed;background-color:#fff;top:0;z-index:9999}",""])},a474:function(t,e,a){"use strict";var i=a("95b4"),n=a.n(i);n.a},b727:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'uni-page-body[data-v-71564ed9]{background-color:#f9f9f9}.content[data-v-71564ed9]{margin-top:%?115?%;background-color:#fff}.content .info-list[data-v-71564ed9]{margin-left:%?25?%}.content .info-list .profile[data-v-71564ed9]{height:%?190?%;border-bottom:%?1?% solid #f5f5f5}.info-list .profile .title[data-v-71564ed9]{color:#3e3636;font-size:%?30?%;margin-right:%?450?%}.info-list .profile .face[data-v-71564ed9]{width:%?120?%;height:%?120?%;border-radius:100%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.info-list .profile .face uni-image[data-v-71564ed9]{width:100%;height:100%;border-radius:100%}.info-list .profile .right_arrow[data-v-71564ed9]{width:%?90?%;height:%?190?%;position:relative}.info-list .right_arrow[data-v-71564ed9]:after{content:"";width:%?20?%;height:%?20?%;position:absolute;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border-right:%?4?% solid #adadad;border-top:%?4?% solid #adadad}.info-list .list[data-v-71564ed9]{height:%?95?%;position:relative;border-bottom:%?1?% solid #f5f5f5}.info-list .list .list-name[data-v-71564ed9]{color:#767272;font-size:%?30?%}.info-list .list .info[data-v-71564ed9]{color:#3e3636;font-size:%?30?%;position:absolute;right:%?20?%}.info-list .list .info uni-input[data-v-71564ed9]{width:%?610?%}.info-list .list .sex[data-v-71564ed9]{margin:0 auto}.info-list .sex .radio[data-v-71564ed9]{margin:%?0?% %?50?%}.info-list .list .input[data-v-71564ed9]{position:relative}.info-list .list .input[data-v-71564ed9]:after{content:"";width:%?1?%;height:%?36?%;margin-top:%?6?%;margin-left:%?23?%;position:absolute;background-color:#f4cc7e}.calendar[data-v-71564ed9]{background-color:#fff}.calendar .calendar_top[data-v-71564ed9]{height:%?90?%;position:relative;border:%?1?% solid #f1f1f1}.calendar .calendar_top .cancel[data-v-71564ed9]{position:absolute;left:%?40?%;color:#898989;font-size:%?30?%}.calendar .calendar_top .confirm[data-v-71564ed9]{position:absolute;right:%?40?%;font-size:%?30?%;color:#f4cc7e}uni-picker-view[data-v-71564ed9]{width:100%;height:%?500?%}.item[data-v-71564ed9]{line-height:%?100?%;text-align:center}body.?%PAGE?%[data-v-71564ed9]{background-color:#f9f9f9}',""])},b8d9:function(t,e,a){"use strict";var i=a("4e1a"),n=a.n(i);n.a},bc71:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("065c")),n=s(a("5646")),o=s(a("8058"));function s(t){return t&&t.__esModule?t:{default:t}}var r={components:{uniNav:o.default,uniPopup:n.default,statusBar:i.default},data:function(){for(var t=new Date,e=[],a=t.getFullYear(),i=[],n=t.getMonth()+1,o=[],s=t.getDate(),r=1960;r<=t.getFullYear()-10;r++)e.push(r);for(var u=1;u<=12;u++)i.push(u);for(var l=1;l<=31;l++)o.push(l);return{type:"",title:"个人资料",upload:!1,imageList:["../../static/image/touxiang.png"],years:e,year:a,months:i,month:n,days:o,day:s,value:[9999,n-1,s-1],visible:!1,indicatorStyle:"height: ".concat(Math.round(uni.getSystemInfoSync().screenWidth/7.5),"px;"),user_data:[]}},onShow:function(){this._onLoad()},methods:{chooseImage:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.$tool.loading("上传中"),t.imageList=e.tempFilePaths,t.$http.upload("user/upload_avatar",{},{filePath:e.tempFilePaths[0],name:"file"}).then(function(e){if(t.$tool.loading("hide"),e=JSON.parse(e),console.log(e),0==e.code){t.user_data.avatar=e.data.image_url[100];var a=t.$tool.getUserData();return a.avatar=e.data.image_url,t.$tool.setUserData(a),t.$tool.showToast("上传成功"),!1}t.$tool.showToast(e.message)}).catch(function(t){console.log("upload_err")})}})},tapSex:function(t){var e=this.$tool.getDataSet(t,"value");e=parseInt(e),this.user_data.sex=e,this._updateInfo("sex",e)},bindChange:function(t){var e=t.detail.value;this.year=this.years[e[0]],this.month=this.months[e[1]],this.day=this.days[e[2]]},togglePopup:function(t){this.type=t},cancelCalendar:function(){var t=new Date;this.year=t.getFullYear()-10,this.month=t.getMonth()+1,this.day=t.getDate(),this.type=""},closeCalendar:function(){this.user_data.birthday=this.year+"-"+this.month+"-"+this.day,this.type="",this._updateInfo("birthday",this.user_data.birthday)},tapSetInfo:function(t){var e=this.$tool.getDataSet(t,"field"),a=t.detail.value;if("name"==e&&""==a)return this.$tool.showToast("呢称不能为空"),!1;this._updateInfo(e,t.detail.value)},_updateInfo:function(t,e){var a=this;this.$http.post("user/set_info",{field:t,value:e}).then(function(i){if(-1==i.code&&a.$tool.showToast(i.message),"name"==t){var n=a.$tool.getUserData();n.name=e,a.$tool.setUserData(n)}}).catch(function(t){console.log("update_info_err")})},_onLoad:function(){var t=this,e=this.$tool.getUserData();this.$http.get("user/info",{user_id:e.id}).then(function(e){if(console.log(e),0==e.code)return t.user_data=e.data,!1}).catch(function(t){console.log("user_err")})}}};e.default=r},c948:function(t,e,a){var i=a("9d37");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("6ec24cd4",i,!0,{sourceMap:!1,shadowMode:!1})},f732:function(t,e,a){"use strict";a.r(e);var i=a("9ce3"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},f906:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"index"},[a("v-uni-view",{staticClass:"wrap"},[a("uni-nav",{attrs:{title:t.title}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!!t.user_data,expression:"user_data?true:false"}],staticClass:"info-list"},[a("v-uni-view",{staticClass:"profile uni-inline-item"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-text",[t._v("头像")])],1),a("v-uni-view",{staticClass:"face",on:{click:function(e){e=t.$handleEvent(e),t.chooseImage(e)}}},[a("v-uni-image",{attrs:{src:t.user_data.avatar,mode:"aspectFill","lazy-load":""}})],1),a("v-uni-view",{staticClass:"right_arrow uni-center"},[a("v-uni-view")],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("昵称")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-right",attrs:{type:"text","data-field":"name"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.name,callback:function(e){t.$set(t.user_data,"name",e)},expression:"user_data.name"}})],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("名字")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-right",attrs:{type:"text","data-field":"real_name"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.real_name,callback:function(e){t.$set(t.user_data,"real_name",e)},expression:"user_data.real_name"}})],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item",attrs:{type:"button","data-position":"bottom"},on:{click:function(e){e=t.$handleEvent(e),t.togglePopup("showCalendar")}}},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("生日")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-text",{staticClass:"text-right"},[t._v(t._s(t.user_data.birthday?t.user_data.birthday:"1990-01-01"))])],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("性别")])],1),a("v-uni-view",{staticClass:"sex"},[a("v-uni-label",{staticClass:"radio",attrs:{"data-value":1},on:{click:function(e){e=t.$handleEvent(e),t.tapSex(e)}}},[a("v-uni-radio",{attrs:{checked:!!t.user_data.sex,color:"#f4cc7e"}}),t._v("男")],1),a("v-uni-label",{staticClass:"radio",attrs:{"data-value":0},on:{click:function(e){e=t.$handleEvent(e),t.tapSex(e)}}},[a("v-uni-radio",{attrs:{checked:!t.user_data.sex,color:"#f4cc7e"}}),t._v("女")],1)],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name input"},[a("v-uni-text",[t._v("地址")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-left",attrs:{type:"text","data-field":"address"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.address,callback:function(e){t.$set(t.user_data,"address",e)},expression:"user_data.address"}})],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name input"},[a("v-uni-text",[t._v("简介")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-left",attrs:{type:"text",placeholder:t.user_data.synopsis?"":"呵呵，写点什么呗","data-field":"synopsis"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.synopsis,callback:function(e){t.$set(t.user_data,"synopsis",e)},expression:"user_data.synopsis"}})],1)],1)],1)],1),a("uni-popup",{attrs:{show:"showCalendar"===t.type,position:"bottom"},on:{hidePopup:function(e){e=t.$handleEvent(e),t.togglePopup("")}}},[a("v-uni-view",{staticClass:"calendar"},[a("v-uni-view",{staticClass:"calendar_top uni-inline-item"},[a("v-uni-view",{staticClass:"cancel",on:{click:function(e){e=t.$handleEvent(e),t.cancelCalendar(e)}}},[a("v-uni-text",[t._v("取消")])],1),a("v-uni-view",{staticClass:"confirm",on:{click:function(e){e=t.$handleEvent(e),t.closeCalendar(e)}}},[a("v-uni-text",[t._v("确定")])],1)],1),a("v-uni-picker-view",{attrs:{"indicator-style":t.indicatorStyle,value:t.value},on:{change:function(e){e=t.$handleEvent(e),t.bindChange(e)}}},[a("v-uni-picker-view-column",t._l(t.years,function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(e))])}),1),a("v-uni-picker-view-column",t._l(t.months,function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(e))])}),1),a("v-uni-picker-view-column",t._l(t.days,function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(e))])}),1)],1)],1)],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})}}]);