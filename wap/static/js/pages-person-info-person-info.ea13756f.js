(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-person-info-person-info"],{"0b79":function(t,e,a){"use strict";a.r(e);var i=a("dd19"),n=a("43f2");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("668a");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"1897fab8",null);e["default"]=r.exports},"43f2":function(t,e,a){"use strict";a.r(e);var i=a("bc71"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"668a":function(t,e,a){"use strict";var i=a("84b9"),n=a.n(i);n.a},8058:function(t,e,a){"use strict";a.r(e);var i=a("e3e6"),n=a("f732");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("e159");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"3edb9724",null);e["default"]=r.exports},"84b9":function(t,e,a){var i=a("9434");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("3939fd42",i,!0,{sourceMap:!1,shadowMode:!1})},9434:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'uni-page-body[data-v-1897fab8]{background-color:#f9f9f9}.content[data-v-1897fab8]{margin-top:%?115?%;background-color:#fff}.content .info-list[data-v-1897fab8]{margin-left:%?25?%}.content .info-list .profile[data-v-1897fab8]{height:%?190?%;border-bottom:%?1?% solid #f5f5f5}.info-list .profile .title[data-v-1897fab8]{color:#3e3636;font-size:%?30?%;margin-right:%?450?%}.info-list .profile .face[data-v-1897fab8]{width:%?120?%;height:%?120?%;border-radius:100%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.info-list .profile .face uni-image[data-v-1897fab8]{width:100%;height:100%;border-radius:100%}.info-list .profile .right_arrow[data-v-1897fab8]{width:%?90?%;height:%?190?%;position:relative}.info-list .right_arrow[data-v-1897fab8]:after{content:"";width:%?20?%;height:%?20?%;position:absolute;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border-right:%?4?% solid #adadad;border-top:%?4?% solid #adadad}.info-list .list[data-v-1897fab8]{height:%?95?%;position:relative;border-bottom:%?1?% solid #f5f5f5}.info-list .list .list-name[data-v-1897fab8]{color:#767272;font-size:%?30?%}.info-list .list .info[data-v-1897fab8]{color:#3e3636;font-size:%?30?%;position:absolute;right:%?20?%}.info-list .list .info uni-input[data-v-1897fab8]{width:%?610?%}.info-list .list .sex[data-v-1897fab8]{margin:0 auto}.info-list .sex .radio[data-v-1897fab8]{margin:%?0?% %?50?%}.info-list .list .input[data-v-1897fab8]{position:relative}.info-list .list .input[data-v-1897fab8]:after{content:"";width:%?1?%;height:%?36?%;margin-top:%?6?%;margin-left:%?23?%;position:absolute;background-color:#f4cc7e}.calendar[data-v-1897fab8]{margin-top:%?20?%;background-color:#fff}.calendar .calendar_top[data-v-1897fab8]{height:%?90?%;position:relative;border:%?1?% solid #f1f1f1}.calendar .calendar_top .cancel[data-v-1897fab8]{position:absolute;left:%?40?%;color:#898989;font-size:%?30?%}.calendar .calendar_top .confirm[data-v-1897fab8]{position:absolute;right:%?40?%;font-size:%?30?%;color:#f4cc7e}uni-picker-view[data-v-1897fab8]{width:100%;height:%?600?%}.item[data-v-1897fab8]{line-height:%?100?%;text-align:center}body.?%PAGE?%[data-v-1897fab8]{background-color:#f9f9f9}',""])},"9ce3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{title:{type:String}},data:function(){return{}},methods:{goback:function(){uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})}}};e.default=i},bc71:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("8058"));function n(t){return t&&t.__esModule?t:{default:t}}var s={components:{uniNav:i.default},data:function(){for(var t=new Date,e=[],a=t.getFullYear(),i=[],n=t.getMonth()+1,s=[],o=t.getDate(),r=1960;r<=t.getFullYear()-10;r++)e.push(r);for(var l=1;l<=12;l++)i.push(l);for(var u=1;u<=31;u++)s.push(u);return{title:"个人资料",upload:!1,imageList:["../../static/image/touxiang.png"],years:e,year:a,months:i,month:n,days:s,day:o,value:[9999,n-1,o-1],visible:!1,indicatorStyle:"height: ".concat(Math.round(uni.getSystemInfoSync().screenWidth/7.5),"px;"),user_data:[]}},onShow:function(){this._onLoad()},methods:{chooseImage:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.imageList=e.tempFilePaths,t.$http.upload("user/upload_avatar",{},{filePath:e.tempFilePaths[0],name:"file"}).then(function(e){if(e=JSON.parse(e),console.log(e),0==e.code){t.user_data.avatar=e.data.image_url[100];var a=t.$tool.getUserData();return a.avatar=e.data.image_url,t.$tool.setUserData(a),!1}t.$tool.showToast(e.message)}).catch(function(t){console.log("upload_err")})}})},tapSex:function(t){var e=this.$tool.getDataSet(t,"value");e=parseInt(e),this.user_data.sex=e,this._updateInfo("sex",e)},bindChange:function(t){var e=t.detail.value;this.year=this.years[e[0]],this.month=this.months[e[1]],this.day=this.days[e[2]]},chooseCalendar:function(){this.visible=!0},cancelCalendar:function(){var t=new Date;this.year=t.getFullYear()-10,this.month=t.getMonth()+1,this.day=t.getDate(),this.visible=!1},closeCalendar:function(){this.user_data.birthday=this.year+"-"+this.month+"-"+this.day,this.visible=!1,this._updateInfo("birthday",this.user_data.birthday)},tapSetInfo:function(t){var e=this.$tool.getDataSet(t,"field"),a=t.detail.value;if("name"==e&&""==a)return this.$tool.showToast("呢称不能为空"),!1;this._updateInfo(e,t.detail.value)},_updateInfo:function(t,e){var a=this;this.$http.post("user/set_info",{field:t,value:e}).then(function(t){-1==t.code&&a.$tool.showToast(t.message)}).catch(function(t){console.log("update_info_err")})},_onLoad:function(){var t=this,e=this.$tool.getUserData();this.$http.get("user/info",{user_id:e.id}).then(function(e){if(console.log(e),0==e.code)return t.user_data=e.data,!1}).catch(function(t){console.log("user_err")})}}};e.default=s},be15:function(t,e,a){var i=a("f109");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("e09ee22c",i,!0,{sourceMap:!1,shadowMode:!1})},dd19:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"index"},[a("v-uni-view",{staticClass:"wrap"},[a("uni-nav",{attrs:{title:t.title}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!!t.user_data,expression:"user_data?true:false"}],staticClass:"info-list"},[a("v-uni-view",{staticClass:"profile uni-inline-item"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-text",[t._v("头像")])],1),a("v-uni-view",{staticClass:"face",on:{click:function(e){e=t.$handleEvent(e),t.chooseImage(e)}}},[a("v-uni-image",{attrs:{src:t.user_data.avatar,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"right_arrow uni-center"},[a("v-uni-view")],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("昵称")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-right",attrs:{type:"text","data-field":"name"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.name,callback:function(e){t.$set(t.user_data,"name",e)},expression:"user_data.name"}})],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("名字")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-right",attrs:{type:"text","data-field":"real_name"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.real_name,callback:function(e){t.$set(t.user_data,"real_name",e)},expression:"user_data.real_name"}})],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("生日")])],1),a("v-uni-view",{staticClass:"info",on:{click:function(e){e=t.$handleEvent(e),t.chooseCalendar(e)}}},[a("v-uni-text",{staticClass:"text-right"},[t._v(t._s(t.user_data.birthday?t.user_data.birthday:"1990-01-01"))])],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name"},[a("v-uni-text",[t._v("性别")])],1),a("v-uni-view",{staticClass:"sex"},[a("v-uni-label",{staticClass:"radio",attrs:{"data-value":1},on:{click:function(e){e=t.$handleEvent(e),t.tapSex(e)}}},[a("v-uni-radio",{attrs:{checked:!!t.user_data.sex,color:"#f4cc7e"}}),t._v("男")],1),a("v-uni-label",{staticClass:"radio",attrs:{"data-value":0},on:{click:function(e){e=t.$handleEvent(e),t.tapSex(e)}}},[a("v-uni-radio",{attrs:{checked:!t.user_data.sex,color:"#f4cc7e"}}),t._v("女")],1)],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name input"},[a("v-uni-text",[t._v("地址")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-left",attrs:{type:"text","data-field":"address"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.address,callback:function(e){t.$set(t.user_data,"address",e)},expression:"user_data.address"}})],1)],1),a("v-uni-view",{staticClass:"list uni-inline-item"},[a("v-uni-view",{staticClass:"list-name input"},[a("v-uni-text",[t._v("简介")])],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-input",{staticClass:"text-left",attrs:{type:"text",placeholder:t.user_data.synopsis?"":"呵呵，写点什么呗","data-field":"synopsis"},on:{blur:function(e){e=t.$handleEvent(e),t.tapSetInfo(e)}},model:{value:t.user_data.synopsis,callback:function(e){t.$set(t.user_data,"synopsis",e)},expression:"user_data.synopsis"}})],1)],1)],1)],1),t.visible?a("v-uni-view",{staticClass:"calendar"},[a("v-uni-view",{staticClass:"calendar_top uni-inline-item"},[a("v-uni-view",{staticClass:"cancel",on:{click:function(e){e=t.$handleEvent(e),t.cancelCalendar(e)}}},[a("v-uni-text",[t._v("取消")])],1),a("v-uni-view",{staticClass:"confirm",on:{click:function(e){e=t.$handleEvent(e),t.closeCalendar(e)}}},[a("v-uni-text",[t._v("确定")])],1)],1),a("v-uni-picker-view",{attrs:{"indicator-style":t.indicatorStyle,value:t.value},on:{change:function(e){e=t.$handleEvent(e),t.bindChange(e)}}},[a("v-uni-picker-view-column",t._l(t.years,function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(e))])}),1),a("v-uni-picker-view-column",t._l(t.months,function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(e))])}),1),a("v-uni-picker-view-column",t._l(t.days,function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[t._v(t._s(e))])}),1)],1)],1):t._e()],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},e159:function(t,e,a){"use strict";var i=a("be15"),n=a.n(i);n.a},e3e6:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"nav uni-flex"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),a("v-uni-view",{staticClass:"left-arrow",on:{click:function(e){e=t.$handleEvent(e),t.goback(e)}}},[a("v-uni-view")],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},f109:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.nav[data-v-3edb9724]{width:100%;height:%?90?%;position:fixed;\n\tleft:0;z-index:99;background-color:#fff;border-bottom:%?1?% solid #e9e9e9}.nav .title[data-v-3edb9724]{font-size:%?34?%;color:#4a4a4a;line-height:%?89?%;margin:0 auto}.left-arrow[data-v-3edb9724]{width:%?100?%;height:%?89?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;top:0;left:0;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.left-arrow[data-v-3edb9724] :after{content:"";width:%?25?%;height:%?25?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:absolute;margin-top:%?-13?%;left:%?35?%;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border-left:%?4?% solid #adadad;border-bottom:%?4?% solid #adadad}',""])},f732:function(t,e,a){"use strict";a.r(e);var i=a("9ce3"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a}}]);