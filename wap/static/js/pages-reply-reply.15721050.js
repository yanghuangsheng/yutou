(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-reply-reply"],{"45f4":function(t,e,a){"use strict";a.r(e);var i=a("a1f7"),n=a("cf36");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("d053");var o=a("2877"),c=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"2575a84a",null);e["default"]=c.exports},"5f2e":function(t,e,a){var i=a("c369");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0a3e91cd",i,!0,{sourceMap:!1,shadowMode:!1})},a1f7:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"index"},[a("v-uni-view",{staticClass:"wrap"},[a("custom-nav",{attrs:{title:t.title,arrow:!1},on:{back:function(e){e=t.$handleEvent(e),t.tapBack(e)}}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"comment"},[a("comment-list",{attrs:{item:t.item,showReply:!1},on:{praise:function(e){e=t.$handleEvent(e),t.commentPraise(e)},reply:function(e){e=t.$handleEvent(e),t.tapReply(e)}}})],1),a("v-uni-view",{staticClass:"allReply align-items"},[a("v-uni-view",{staticClass:"reply"},[a("v-uni-text",[t._v("全部回复")])],1),a("v-uni-view",{staticClass:"reply_number"},[a("v-uni-text",[t._v(t._s(t.list.length))])],1)],1),t._l(t.list,function(e,i){return[a("comment-list",{key:i+"_0",attrs:{item:e},on:{praise:function(e){e=t.$handleEvent(e),t.commentPraise(e)},reply:function(e){e=t.$handleEvent(e),t.tapReply(e)}}})]})],2),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"release",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.moveHandle(e)}}},[a("v-uni-view",{staticClass:"release_view"},[a("v-uni-view",{staticClass:"release-top row-space-between"},[a("v-uni-view",{staticClass:"face_view flex-center",on:{click:function(e){e=t.$handleEvent(e),t.tapShowFace(e)}}},[a("v-uni-image",{staticClass:"face",attrs:{src:0==t.face?"../../static/images/face_1.png":"../../static/images/face.png",mode:""}})],1),a("v-uni-view",{staticClass:"hide_face",on:{click:function(e){e=t.$handleEvent(e),t.hidePopup(e)}}},[a("v-uni-image",{attrs:{src:"../../static/images/hide_face.png",mode:""}})],1),a("v-uni-view",{staticClass:"release_btn flex-center"},[a("v-uni-text",{class:1==t.isRelease?"active":"",on:{click:function(e){e=t.$handleEvent(e),t.commentAdd(e)}}},[t._v("发布")])],1)],1),a("v-uni-view",{staticClass:"release-content"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-textarea",{staticClass:"textarea",attrs:{"adjust-position":t.adjust,"auto-height":"true",value:t.sendText,"show-confirm-bar":!1,placeholder:t.placeholderText,"placeholder-style":"color: #8b8c93",focus:t.textareaFocus},on:{input:function(e){e=t.$handleEvent(e),t.replaceInput(e)},focus:function(e){e=t.$handleEvent(e),t.onFocus(e)},blur:function(e){e=t.$handleEvent(e),t.onBlur(e)}}})],1),a("v-uni-swiper",{directives:[{name:"show",rawName:"v-show",value:t.face,expression:"face"}],staticClass:"swiper",attrs:{"indicator-active-color":"rgba(0,0,0,.6)","indicator-dots":!0,circular:!1,autoplay:!1}},t._l(t.face_data,function(e,i){return a("v-uni-swiper-item",{key:i},[a("v-uni-view",{staticClass:"face-list"},[t._l(e,function(e,i){return a("v-uni-view",{key:i,staticClass:"face flex-row"},t._l(e,function(e,i){return a("v-uni-view",{key:i,staticClass:"img_view"},[a("v-uni-view",{staticClass:"img flex-center",attrs:{"data-name":e.name},on:{click:function(e){e=t.$handleEvent(e),t.tapFace(e)}}},[a("v-uni-image",{attrs:{src:e.image_url,mode:""}})],1)],1)}),1)}),a("v-uni-view",{staticClass:"delete justify-content",on:{click:function(e){e=t.$handleEvent(e),t.tapDelFace(e)}}},[a("v-uni-image",{attrs:{src:"../../static/images/delete_face.png",mode:""}})],1)],2)],1)}),1)],1)],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"mark",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.moveHandle(e)},click:function(e){e=t.$handleEvent(e),t.hidePopup(e)}}})],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},c369:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"uni-page-body[data-v-2575a84a]{background-color:#fff}.allReply[data-v-2575a84a]{height:%?40?%;padding-left:%?68?%;background-color:#f7f9fb}.allReply uni-text[data-v-2575a84a]{font-size:%?24?%;color:#444b5e;line-height:%?45?%}.allReply .reply[data-v-2575a84a]{margin-right:%?8?%}body.?%PAGE?%[data-v-2575a84a]{background-color:#fff}",""])},c6b4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("bd1a")),n=o(a("bb50")),s=o(a("26c5"));function o(t){return t&&t.__esModule?t:{default:t}}var c="来都来了，不说点什么吗？",l={components:{statusBar:i.default,customNav:n.default,commentList:s.default},data:function(){return{title:"查看回复",id:"",item:{},list:[],replyData:{},placeholderText:"",isShare:!1,showPopup:!1,textareaFocus:!1,isRelease:!1,sendText:"",adjust:!0,face_data:[],face:!1}},onLoad:function(t){this.id=t.id,console.log(this.id),this.face_data=this.$tool.faceData(),this._onLoad()},methods:{tapBack:function(){uni.navigateBack({delta:1})},tapShowFace:function(){this.face=!this.face,this.textareaFocus=!1,uni.hideKeyboard()},tapFace:function(t){var e=this.$tool.getDataSet(t,"name");this.sendText=this.sendText+e},tapDelFace:function(){var t=this.sendText,e=t.charAt(t.length-1),a=t.lastIndexOf("[");if("]"==e){var i=t.slice(0,a);return this.sendText=i,!1}var n=t.slice(0,t.length-1);this.sendText=n},onFocus:function(){this.face=!1,this.textareaFocus=!0},onBlur:function(){this.textareaFocus=!1,this.placeholderText=c,uni.hideKeyboard()},hidePopup:function(){this.showPopup=!1,this.textareaFocus=!1,this.sendText="",uni.hideKeyboard()},onShowPopup:function(){var t=this;this.showPopup=!0,setTimeout(function(){t.textareaFocus=!0},500)},replaceInput:function(t){this.sendText=t.target.value,this.sendText<=0?this.isRelease=!1:this.isRelease=!0},tapReply:function(t){var e=this;this.replyData=t;var a=this.replyData.user_name;this.placeholderText="@回复"+a+":",this.showPopup=!0,setTimeout(function(){e.textareaFocus=!0},500)},commentAdd:function(){var t=this;if(""!=this.sendText){var e=this.replyData,a={content:this.sendText};e&&(a.reply_id=e.id,a.parent_id=e.parent_id?e.parent_id:e.id,a.reply_user_id=e.user_id),this.$tool.loading("处理中"),this.$http.post("news/submit_comment?id="+this.item_id,a).then(function(e){t.$tool.loading("hide"),0==e.code&&(t.sendText="",t.replyData={},uni.hideKeyboard(),t.textareaFocus=!1,t.showPopup=!1,t.placeholderText=c,t.list=e.data.concat(t.list)),t.$tool.showToast(e.message)}).catch(function(t){this.$tool.loading("hide"),console.log("err")})}},commentPraise:function(t){var e=this;this.replyData=t.data;var a=t.id;this.$http.post("news/praise_comment",{id:a}).then(function(t){if(-1!=t.code)return isNaN(e.replyData.praise_num)?(e.replyData.praise_num=1,!1):(e.replyData.praise_num+=1,void(e.replyData.is_praise=1));e.$tool.showToast(t.message)}).catch(function(t){console.log("err")})},_onLoad:function(){var t=this,e=this.id;console.log(e),this.$http.get("news/look_comment",{id:e}).then(function(e){console.log(e.data);var a=e.data;console.log(JSON.stringify(a)),t.item=a.item,t.list=a.list}).catch(function(t){console.log("err")})}}};e.default=l},cf36:function(t,e,a){"use strict";a.r(e);var i=a("c6b4"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},d053:function(t,e,a){"use strict";var i=a("5f2e"),n=a.n(i);n.a}}]);